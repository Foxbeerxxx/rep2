# Домашнее задание к занятию "`Репликация и масштабирование`" - `Татаринцев Алексей`


---

### Задание 1

`Опишите основные преимущества использования масштабирования методами:`

1. `активный master-сервер и пассивный репликационный slave-сервер;`
```
Master-Slave репликация - это подход, при котором один сервер (Master) принимает все записи, а другие серверы (Slaves) реплицируют данные с Master-сервера. Это позволяет распределить нагрузку и повысить доступность.
   Активный Master-сервер и пассивный репликационный Slave-сервер:
Основное преимущество здесь - возможность переключения на Slave-сервер в случае отказа Master-сервера.  
Вместо полной остановки системы, Slave-сервер может быть повышен до Master-сервера, обеспечивая продолжение работы.
Slave-сервер можно использовать для резервного копирования данных, не влияя на производительность Master-сервера.
По сравнению с более сложными решениями, настройка Master-Slave репликации с одним Slave довольно проста.

```

2. `master-сервер и несколько slave-серверов;`

```
Эта конфигурация расширяет преимущества предыдущей, добавляя следующие плюсы:
 * Улучшенная масштабируемость чтения:  Операции чтения могут быть распределены между несколькими Slave-серверами, значительно увеличивая пропускную способность чтения системы.  Это особенно полезно для приложений с большим количеством операций чтения, таких как веб-сайты или аналитические системы.
 * Более гибкое резервное копирование:  Несколько Slave-серверов позволяют выполнять резервное копирование в разное время и с разной частотой, обеспечивая более надежную стратегию восстановления.
 * Разделение нагрузки по типам запросов:  Можно направить определенные типы запросов чтения (например, отчеты) на конкретные Slave-серверы, оптимизируя производительность.

```



### Задание 2

`Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц:`

1. `Принципы Построения`
```
 * Горизонтальный Шаринг : Разбиение таблицы на несколько баз данных (шардов) по определенному ключу. 
Каждая база данных содержит подмножество строк из исходной таблицы.
 * Вертикальный Шаринг: Разбиение таблицы на несколько баз данных, где каждая база данных содержит подмножество столбцов из исходной таблицы.
 * Маршрутизация: Механизм, определяющий, к какому шарду или вертикальной партиции необходимо обратиться для выполнения запроса.
 * Репликация: Создание копий данных на нескольких серверах для обеспечения высокой доступности и отказоустойчивости.
 * Координатор: Центральный компонент, отвечающий за маршрутизацию запросов, управление шардами и координацию.
 
```
2. `Стратегия Шаринга`

```
* Горизонтальный Шаринг * 

- Пользователи: Шардинг по user_id . Это распределит пользователей равномерно по всем шардам.
- Книги: Шардинг по book_id или author_id . Если часто ищут книги по автору, то author_id будет более подходящим ключом.
- Магазины:  Шардинг по географическому региону (region_id или city_id). 
  Это позволит хранить информацию о магазинах в одном регионе на одном шарде, что повысит производительность при запросах, 
  относящихся к конкретному региону.
```
```
* Вертикальный Шаринг * 

- Пользователи:  Можно разделить таблицу пользователи на две части:
    *   пользователи_основная:  user_id, username, email, registration_date, last_login.
    *   пользователи_профиль: user_id, profile_image, bio, location, preferences.
- Книги:  Аналогично можно разделить таблицу книги:
    *   книги_основная: book_id, title, author_id, isbn, publication_date.
    *   книги_описание: book_id, description, cover_image, reviews_summary.
- Магазины:  В данном случае вертикальное разделение может быть менее целесообразным.  
  Если у таблицы большое количество редко используемых атрибутов, то их можно выделить в отдельную таблицу.

```
![1](https://github.com/Foxbeerxxx/rep2/blob/main/img/1.jpeg)`

```
Описание Компонентов и Режимы Работы

•  Client Application: Приложение, взаимодействующее с базой данных.

•  Load Balancer: Распределяет нагрузку между несколькими экземплярами Coordinator'а для обеспечения высокой доступности и производительности.

•  Coordinator:
  •  Режим работы:
    *  Router: Определяет, к какому шарду необходимо обратиться на основе ключа шаринга.
    *  Aggregator: Собирает данные из нескольких шардов (если запрос требует этого) и возвращает результат клиенту.
    *  Transaction Manager: (Опционально) Координирует распределенные транзакции между шардами .
  

•  Database (Shard):
  •  Режим работы:
    *  Master (Primary): Принимает записи и обновления.
    *  Replica (Secondary): Получает копии данных от Master'а и обслуживает запросы на чтение.
  •  Технологии: MySQL, PostgreSQL, MariaDB, etc.

•  Replicas:
  •  Режим работы: Реплики работают в режиме "read-only" и обеспечивают отказоустойчивость и масштабируемость чтения.
  •  Типы репликации:
    *  Asynchronous replication: Master отправляет обновления репликам, но не ждет подтверждения. Быстрее, но возможна потеря данных в случае сбоя Master'а.
    *  Synchronous replication: Master ждет подтверждения от реплик перед тем, как подтвердить операцию. Более надежно, но медленнее.

```







`При необходимости прикрепитe сюда скриншоты


